(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-user_info-index","pages-mine-user_info-upd_name","pages-mine-user_info-upd_phone","pages-mine-user_info-upd_sex"],{"19c8":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"cu-form-group margin-top",staticStyle:{margin:"auto auto","margin-top":"15px"}},[i("v-uni-input",{attrs:{maxlength:"-1",placeholder:"请输入昵称"},model:{value:t.txt,callback:function(e){t.txt=e},expression:"txt"}})],1)],1)},s=[]},"1aca":function(t,e,i){"use strict";i.r(e);var a=i("b14f"),n=i("2a49");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var o,r=i("f0c5"),u=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"0012d268",null,!1,a["a"],o);e["default"]=u.exports},"2a49":function(t,e,i){"use strict";i.r(e);var a=i("c9f4"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"40b8":function(t,e,i){"use strict";i.r(e);var a=i("559e"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"4f27":function(t,e,i){"use strict";i.r(e);var a=i("84fb"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},5118:function(t,e,i){"use strict";i.r(e);var a=i("763b"),n=i("40b8");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("83b7");var o,r=i("f0c5"),u=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"0ae3c566",null,!1,a["a"],o);e["default"]=u.exports},"559e":function(module,exports,__webpack_require__){"use strict";(function(console){var _interopRequireDefault=__webpack_require__("4ea4");__webpack_require__("ac1f"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _forget=_interopRequireDefault(__webpack_require__("75bd")),_upd_name=_interopRequireDefault(__webpack_require__("663e")),_upd_phone=_interopRequireDefault(__webpack_require__("95b4")),_upd_sex=_interopRequireDefault(__webpack_require__("1aca")),_uqrcode=_interopRequireDefault(__webpack_require__("884a")),_default={components:{forget:_forget.default,upd_name:_upd_name.default,upd_phone:_upd_phone.default,upd_sex:_upd_sex.default},data:function(){return{forgetShow:!1,sexShow:!1,usernameShow:!1,phonenumShow:!1,qrcodeShow:!1,code_height:0,qrcodeBase64:""}},mounted:function(){},onReady:function(){},methods:{goQrcode:function(){var t=this;this.qrcodeShow=!0,this.$nextTick((function(){t.getQr()}))},getQr:function(){var t=this;this.$store.state.user;uni.getSystemInfo({success:function(e){var i=uni.createSelectorQuery().select(".qrcode_view");i.boundingClientRect((function(e){t.code_height=e.width,_uqrcode.default.make({canvasId:"qrcode1",componentInstance:t,text:"#member#"+t.$store.state.user.id+"#",size:t.code_height,margin:0,backgroundColor:"#ffffff",foregroundColor:"#000000",fileType:"jpg",correctLevel:_uqrcode.default.errorCorrectLevel.H}).then((function(e){t.qrcodeBase64=e}))})).exec()}})},share:function(){var t=this;uni.getStorageSync("USER");uni.showActionSheet({itemList:["发送给朋友","保存二维图"],success:function(e){0==e.tapIndex?(t.$store.state.temp.base64=t.qrcodeBase64,uni.navigateTo({url:"/pages/mine/user_info/qrcodeSendToFriend"})):1==e.tapIndex&&t.saveEwm()},fail:function(t){}})},saveEwm:function saveEwm(e){var _this=this;_this.$http.post("/user/file/uploadB64Img",{base64:_this.qrcodeBase64},{header:{"x-access-uid":_this.$store.state.user.id,"x-access-client":_this.$clientType}}).then((function(res){var res_data=eval(res.data);if(200==res_data.code){var json=eval(res.data);200==json.code&&uni.downloadFile({url:_this.$store.state.img_url+json.msg,success:function(t){200===t.statusCode&&uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){_this.$http.post("/user/file/delB64Img",{path:json.msg},{header:{"x-access-uid":_this.$store.state.user.id}}).then((function(t){})),uni.showToast({title:"保存成功",icon:"none"})},fail:function(){uni.showToast({title:"保存失败， 请稍后重试",icon:"none"})}})}})}}))},modifyPwd:function(){this.forgetShow=!0},updSex:function(){uni.navigateTo({url:"/pages/mine/user_info/upd_sex"})},updName:function(){uni.navigateTo({url:"/pages/mine/user_info/upd_name"})},updPhone:function(){uni.navigateTo({url:"/pages/mine/user_info/upd_phone"})},ChooseImage:function ChooseImage(){var _this=this;uni.chooseImage({count:4,sizeType:["compressed"],sourceType:["album"],success:function success(res){if(res.tempFiles[0].size>2097152)uni.showToast({icon:"none",title:"图片大小不能高于2M"});else var uper=uni.uploadFile({url:_this.$store.state.req_url+"/user/file/uploadHeadpic",header:{"x-access-uid":_this.$store.state.user.id},filePath:res.tempFilePaths[0],name:"file",success:function success(res1){var json=eval("("+res1.data+")");200==json.code?(uni.showToast({icon:"success",title:"上传成功"}),_this.$store.state.user.headpic=json.msg):uni.showToast({icon:"none",title:json.msg})}})}})}}};exports.default=_default}).call(this,__webpack_require__("5a52")["default"])},"663e":function(t,e,i){"use strict";i.r(e);var a=i("19c8"),n=i("c10c");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var o,r=i("f0c5"),u=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"1f3313dc",null,!1,a["a"],o);e["default"]=u.exports},"70b0":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("div",{staticStyle:{margin:"auto auto","margin-top":"15px"}},[i("div",[i("el-input",{attrs:{maxlength:"11",placeholder:"请输入手机号"},model:{value:t.txt,callback:function(e){t.txt=e},expression:"txt"}})],1),i("div",{staticStyle:{"margin-top":"30px","text-align":"center"}},[i("el-button",{staticStyle:{width:"130px"},attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tijiao()}}},[t._v("提交")])],1)])])},s=[]},"763b":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("headbar",{attrs:{title:"个人信息",isback:!0}}),i("el-dialog",{attrs:{width:"30%",title:"修改昵称",visible:t.usernameShow},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.usernameShow=e}}},[i("upd_name")],1),i("el-dialog",{attrs:{width:"30%",title:"修改手机号",visible:t.phonenumShow},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.phonenumShow=e}}},[i("upd_phone")],1),i("el-dialog",{attrs:{width:"30%",title:"修改性别",visible:t.sexShow},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.sexShow=e}}},[i("upd_sex")],1),i("el-dialog",{attrs:{width:"30%",title:"忘记密码",visible:t.forgetShow},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.forgetShow=e}}},[i("forget")],1),i("el-dialog",{attrs:{width:"30%",title:"我的二维码名片",visible:t.qrcodeShow},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.qrcodeShow=e}}},[i("v-uni-view",{staticStyle:{margin:"auto auto","margin-top":"15px",width:"90%",height:"920upx","border-radius":"12px","background-color":"#fff","padding-top":"40upx"}},[i("v-uni-view",{staticStyle:{width:"90%",height:"120upx",margin:"auto auto"}},[i("v-uni-text",{staticClass:"cu-avatar round lg",style:"width:110upx;height:110upx;float: left;background-image: url("+t.$store.state.img_url+t.$store.state.user.headpic+");"}),i("v-uni-text",{staticStyle:{float:"left","font-size":"36upx","line-height":"120upx","margin-left":"28upx","font-weight":"600"}},[t._v(t._s(t.$store.state.user.nickName))])],1),i("v-uni-view",{staticClass:"qrcode_view",staticStyle:{width:"84%",margin:"auto auto","margin-top":"40upx"},style:"height:"+t.code_height+"px"},[i("v-uni-canvas",{staticClass:"canvas-hide",staticStyle:{width:"100%",height:"100%"},attrs:{"canvas-id":"qrcode1"}}),i("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.qrcodeBase64}})],1),i("v-uni-view",{staticStyle:{"text-align":"center","margin-top":"50upx",color:"#777","font-size":"26upx"}},[t._v("可点击右上角进行二维码分享或保存")])],1)],1),i("v-uni-view",{staticClass:"cu-list menu",class:["sm-border",""],staticStyle:{"margin-top":"10px"}},[i("v-uni-view",{staticClass:"cu-item cu-item1",class:"arrow",staticStyle:{background:"#fff",display:"flex",height:"160upx","margin-bottom":"20upx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ChooseImage.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"text-grey",staticStyle:{float:"left","margin-left":"10px","line-height":"160upx",color:"#8799a3"}},[t._v("头像")]),i("v-uni-view",{staticStyle:{float:"right",width:"130upx","padding-top":"30upx","padding-bottom":"30upx","margin-left":"10upx"}},[i("v-uni-view",{staticClass:"cu-avatar radius margin-left",style:"height:100upx;width:100upx;background-image:url("+t.$store.state.img_url+t.$store.state.user.headpic+");"})],1)],1)],1),i("v-uni-view",{staticClass:"cu-item",class:"arrow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.usernameShow=!0}}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"text-grey",staticStyle:{float:"left","margin-left":"10px",color:"#8799a3"}},[t._v("昵称")]),i("v-uni-text",{staticClass:"text-grey text-sm",staticStyle:{float:"right",color:"#aaa","font-size":"26upx"}},[t._v(t._s(t.$store.state.user.nickName))])],1)],1),i("v-uni-view",{staticClass:"cu-item arrow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.phonenumShow=!0}}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticStyle:{float:"left","margin-left":"10px",color:"#8799a3"}},[t._v("手机号")]),i("v-uni-text",{staticClass:"text-grey text-sm",staticStyle:{float:"right",color:"#aaa","font-size":"26upx"}},[t._v(t._s(t.$store.state.user.telphone))])],1)],1),i("v-uni-view",{staticClass:"cu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"text-grey",staticStyle:{float:"left","margin-left":"10px",color:"#8799a3"}},[t._v("账号")]),i("v-uni-text",{staticClass:"text-grey text-sm",staticStyle:{float:"right",color:"#aaa","margin-right":"60upx","font-size":"26upx"}},[t._v(t._s(t.$store.state.user.username))])],1)],1),i("v-uni-view",{staticClass:"cu-item arrow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goQrcode.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"text-grey",staticStyle:{color:"#8799a3"}},[t._v("二维码名片")]),i("v-uni-text",{staticClass:"lg text-gray cuIcon-qr_code",staticStyle:{"font-size":"22px",float:"right",position:"relative",right:"-20upx"}},[i("span")])],1)],1),i("v-uni-view",{staticClass:"cu-item",class:"arrow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sexShow=!0}}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticStyle:{float:"left","margin-left":"10px",color:"#8799a3"}},[t._v("性别")]),i("v-uni-text",{staticClass:"text-grey text-sm",staticStyle:{float:"right",color:"#aaa","font-size":"26upx"}},[t._v(t._s(t.$store.state.user.sex))])],1)],1),i("v-uni-view",{staticClass:"cu-item",class:"arrow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.forgetShow=!0}}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticStyle:{float:"left","margin-left":"10px",color:"#8799a3"}},[t._v("修改密码")])],1)],1)],1)],1)},s=[]},"83b7":function(t,e,i){"use strict";var a=i("bbc3"),n=i.n(a);n.a},"84fb":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={data:function(){return{txt:this.$store.state.user.telphone}},onLoad:function(t){},methods:{tijiao:function tijiao(){var _this=this,user=this.$store.state.user;if(11!=_this.txt.length)return uni.showToast({icon:"none",position:"bottom",title:"手机号不正确"}),!1;_this.$http.post("/user/json/updateTel",{newTel:this.txt,u:user.id},{header:{"x-access-uid":user.id,"x-access-client":_this.$clientType}}).then((function(res){var res_data=eval(res.data);200==res_data.code?(uni.showToast({icon:"success",position:"bottom",title:"修改成功"}),_this.$store.state.user.telphone=res_data.msg):uni.showToast({icon:"none",position:"bottom",title:res_data.msg})}))}}};exports.default=_default},"939a":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.cu-item1[data-v-0ae3c566]:after{border-bottom:0!important}.indexes[data-v-0ae3c566]{position:relative}.indexBar[data-v-0ae3c566]{position:fixed;right:0;bottom:0;padding:%?20?% %?20?% %?20?% %?60?%;display:flex;align-items:center}.indexBar .indexBar-box[data-v-0ae3c566]{width:%?40?%;height:auto;background:#fff;display:flex;flex-direction:column;box-shadow:0 0 %?20?% rgba(0,0,0,.1);border-radius:%?10?%}.indexBar-item[data-v-0ae3c566]{flex:1;width:%?40?%;height:%?40?%;display:flex;align-items:center;justify-content:center;font-size:%?24?%;color:#888}uni-movable-view.indexBar-item[data-v-0ae3c566]{width:%?40?%;height:%?40?%;z-index:9;position:relative}uni-movable-view.indexBar-item[data-v-0ae3c566]::before{content:"";display:block;position:absolute;left:0;top:%?10?%;height:%?20?%;width:%?4?%;background-color:#f37b1d}.indexToast[data-v-0ae3c566]{position:fixed;top:0;right:%?80?%;bottom:0;background:rgba(0,0,0,.5);width:%?100?%;height:%?100?%;border-radius:%?10?%;margin:auto;color:#fff;line-height:%?100?%;text-align:center;font-size:%?48?%}.text-grey[data-v-0ae3c566]{color:#333}.canvas-hide[data-v-0ae3c566]{\n\t/* 1 */position:fixed;right:100vw;bottom:100vh;\n\t/* 2 */z-index:-9999;\n\t/* 3 */opacity:0}',""]),t.exports=e},"95b4":function(t,e,i){"use strict";i.r(e);var a=i("70b0"),n=i("4f27");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var o,r=i("f0c5"),u=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=u.exports},b14f:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-radio-group",{staticClass:"block",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.RadioChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v("男")]),i("v-uni-radio",{class:"男"==t.radio?"checked":"",attrs:{checked:"男"==t.radio,value:"男"}})],1),i("v-uni-view",{staticClass:"cu-form-group "},[i("v-uni-view",{staticClass:"title"},[t._v("女")]),i("v-uni-radio",{class:"女"==t.radio?"checked":"",attrs:{checked:"女"==t.radio,value:"女"}})],1)],1),i("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[i("el-button",{staticStyle:{width:"130px"},attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tijiao.apply(void 0,arguments)}}},[t._v("提交")])],1)],1)},s=[]},bbc3:function(t,e,i){var a=i("939a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("ec53e380",a,!0,{sourceMap:!1,shadowMode:!1})},c10c:function(t,e,i){"use strict";i.r(e);var a=i("cdaa"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},c9f4:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={data:function(){return{radio:this.$store.state.user.sex}},onLoad:function(t){},methods:{RadioChange:function(t){this.radio=t.detail.value},tijiao:function tijiao(){var _this=this,user=this.$store.state.user;_this.$http.post("/user/json/updateSex",{sex:this.radio,u:user.id},{header:{"x-access-uid":user.id,"x-access-client":_this.$clientType}}).then((function(res){var res_data=eval(res.data);200==res_data.code?(uni.showToast({icon:"success",position:"bottom",title:"修改成功"}),_this.$store.state.user.sex=res_data.msg):uni.showToast({icon:"none",position:"bottom",title:res_data.msg})}))}}};exports.default=_default},cdaa:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={data:function(){return{txt:this.$store.state.user.nickName}},onLoad:function(t){},methods:{tijiao:function tijiao(){var _this=this,user=this.$store.state.user;_this.$http.post("/user/json/updateNickName",{nickName:this.txt,u:user.id},{header:{"x-access-uid":user.id,"x-access-client":_this.$clientType}}).then((function(res){var res_data=eval(res.data);200==res_data.code?(uni.showToast({icon:"success",position:"bottom",title:"修改成功"}),_this.$store.state.user.nickName=res_data.msg):uni.showToast({icon:"none",position:"bottom",title:res_data.msg})}))}}};exports.default=_default}}]);