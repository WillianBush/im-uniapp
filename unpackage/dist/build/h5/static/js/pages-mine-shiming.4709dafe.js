(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-shiming"],{"146d":function(t,i,e){"use strict";var a=e("a0a3"),s=e.n(a);s.a},"2cdb":function(t,i,e){"use strict";e.r(i);var a=e("4241"),s=e("f0ba");for(var n in s)"default"!==n&&function(t){e.d(i,t,(function(){return s[t]}))}(n);e("146d");var o,r=e("f0c5"),c=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"0f80d073",null,!1,a["a"],o);i["default"]=c.exports},4241:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return a}));var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticStyle:{"background-color":"#fff",height:"100vh"}},[e("cu-custom",{attrs:{bgColor:"bg-blue",isBack:!0,nameToLeft:!0}},[e("template",{attrs:{slot:"backText"},slot:"backText"}),e("template",{attrs:{slot:"content"},slot:"content"},[t._v("实名认证")])],2),0==t.shiming.status?e("v-uni-view",{staticClass:"margin-top",staticStyle:{"text-align":"center"}},[e("v-uni-view",{staticStyle:{"font-size":"28upx",color:"#999"}},[t._v("审核中，请耐心等待审核！")])],1):t._e(),1==t.shiming.status?e("v-uni-view",{staticClass:"margin-top",staticStyle:{"text-align":"center"}},[e("v-uni-view",{staticStyle:{"font-size":"28upx",color:"green","font-weight":"800"}},[t._v("审核通过")])],1):t._e(),2==t.shiming.status?e("v-uni-view",{staticClass:"margin-top",staticStyle:{"text-align":"center"}},[e("v-uni-view",{staticStyle:{"font-size":"28upx",color:"red"}},[t._v("审核失败，请编辑后再提交")]),e("v-uni-view",{staticStyle:{color:"#999","margin-top":"20upx"}},[t._v(t._s(t.shiming.statusReason))])],1):t._e(),e("v-uni-view",{staticClass:"cu-form-group",staticStyle:{width:"94%",margin:"auto auto","border-radius":"5px","margin-top":"40upx","border-bottom":"1px solid #eee"}},[e("v-uni-view",{staticClass:"title"},[t._v("真实姓名")]),1!=t.shiming.status?e("v-uni-input",{attrs:{placeholder:"输入真实姓名"},model:{value:t.realname,callback:function(i){t.realname=i},expression:"realname"}}):e("v-uni-input",{attrs:{disabled:""},model:{value:t.realname,callback:function(i){t.realname=i},expression:"realname"}})],1),e("v-uni-view",{staticClass:"cu-form-group",staticStyle:{width:"94%",margin:"auto auto","border-radius":"5px","border-bottom":"1px solid #eee","border-top":"0px"}},[e("v-uni-view",{staticClass:"title"},[t._v("身份证号")]),1!=t.shiming.status?e("v-uni-input",{attrs:{placeholder:"输入身份证"},model:{value:t.idcard,callback:function(i){t.idcard=i},expression:"idcard"}}):e("v-uni-input",{attrs:{disabled:""},model:{value:t.idcard,callback:function(i){t.idcard=i},expression:"idcard"}})],1),0!=t.shiming.status?e("v-uni-button",{staticClass:"cu-btn block bg-red margin-tb-sm lg",staticStyle:{width:"94%",margin:"auto auto","margin-top":"50upx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tijiao.apply(void 0,arguments)}}},[t._v("提交认证")]):t._e()],1)},n=[]},7623:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".margin-top[data-v-0f80d073]{margin-top:%?50?%}",""]),t.exports=i},a0a3:function(t,i,e){var a=e("7623");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("7ff9fba5",a,!0,{sourceMap:!1,shadowMode:!1})},c0fb:function(module,exports,__webpack_require__){"use strict";__webpack_require__("ac1f"),__webpack_require__("1276"),__webpack_require__("498a"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={data:function(){return{realname:"",idcard:"",shiming:{},is_post:!1}},onLoad:function onLoad(){var _this=this;_this.$http.post("/user/json/shiming_info",{header:{"x-access-uid":_this.$store.state.user.id,"x-access-client":_this.$clientType}}).then((function(res){var res_data=eval(res.data);200==res_data.code&&res_data.body&&null!=res_data.body&&(_this.shiming=res_data.body,_this.realname=res_data.body.realname,_this.idcard=res_data.body.idcard)}))},methods:{checkIDCard:function(t){for(var i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],e=["1","0","X","9","8","7","6","5","4","3","2"],a=t+"",s=t[17],n=a.substring(0,17),o=n.split(""),r=o.length,c=0,u=0;u<r;u++)c+=o[u]*i[u];var d=c%11,l=e[d],p=/^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/,_=p.test(t);return!(s!==l||!_)},tijiao:function tijiao(){if(!this.is_post){var _this=this;""!=this.realname.trim()?""!=this.idcard.trim()?this.checkIDCard(this.idcard.trim())?(this.is_post=!0,_this.$http.post("/user/json/shiming_update",{realname:_this.realname,idcard:_this.idcard},{header:{"x-access-uid":_this.$store.state.user.id,"x-access-client":_this.$clientType}}).then((function(res){_this.is_post=!1;var res_data=eval(res.data);200==res_data.code?(uni.showToast({icon:"success",position:"bottom",title:"提交成功,耐心等待审核!"}),_this.shiming=res_data.body):uni.showToast({icon:"none",position:"none",title:res_data.msg})}))):uni.showToast({icon:"none",position:"bottom",title:"身份证号填写有误"}):uni.showToast({icon:"none",position:"bottom",title:"身份证不能为空"}):uni.showToast({icon:"none",position:"bottom",title:"真实姓名不能为空"})}}}};exports.default=_default},f0ba:function(t,i,e){"use strict";e.r(i);var a=e("c0fb"),s=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=s.a}}]);