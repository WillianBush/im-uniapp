(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-group-member_list"],{3369:function(e,t,r){"use strict";r.r(t);var a=r("8dbb"),i=r("fcbd");for(var s in i)"default"!==s&&function(e){r.d(t,e,(function(){return i[e]}))}(s);var o,n=r("f0c5"),u=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,"23c1fb52",null,!1,a["a"],o);t["default"]=u.exports},"67cd":function(module,exports,__webpack_require__){"use strict";(function(console){__webpack_require__("99af"),__webpack_require__("4160"),__webpack_require__("c975"),__webpack_require__("159b"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={data:function(){return{refresherTriggered:!1,_refresherTriggered:!1,id:"",totalAllListCount:0,totalList:[],numPag:1,allPageNum:1e4,pageSize:50,status:"more",timer:null,inputText:""}},onLoad:function(){uni.getStorageSync("USER");this.loadStoreData(this.pageSize,this.numPag)},methods:{searchP:function searchP(a){if("undefined"!==typeof a&&null!=a&&""!==a){var _this=this;_this.$http.post("/room/json/getMember",{roomid:_this.$store.state.cur_chat_entity.id,nickname:a},{header:{"x-access-uid":_this.$store.state.user.id,"x-access-client":_this.$clientType}}).then((function(res){var res_data=eval(res.data);if(200==res_data.code){var item=res_data.body;item&&(_this.totalList=[],_this.totalList=item,_this.totalList)}}))}else this.refresherrefresh()},refresherrefresh:function(){var e=this;e._refresherTriggered||(e._refresherTriggered=!0,e.refresherTriggered||(e.refresherTriggered=!0),this.totalList=[],this.numPag=1,this.loadStoreData(this.pageSize,this.numPag))},refresherrestore:function(){var e=this;e.refresherTriggered=!1,e._refresherTriggered=!1},refresherabort:function(){var e=this;e.refresherTriggered=!1,e._refresherTriggered=!1},scrollLower:function(){var e=this;this.numPag>=this.allNum?this.status="noMore":(this.status="loading",this.numPag=this.numPag+1,this.timer=setTimeout((function(){e.numPag,e.loadStoreData(e.pageSize,e.numPag)}),1e3))},closeRefresh:function(){this.refresherTriggered=!1,this._refresherTriggered=!1},loadStoreData:function loadStoreData(pSize,pNumber){var _this=this;_this.$http.post("/room/json/getMemberListPage",{roomid:_this.$store.state.cur_chat_entity.id,pageSize:pSize,pageNumber:pNumber},{header:{"x-access-uid":_this.$store.state.user.id,"x-access-client":_this.$clientType}}).then((function(res){var res_data=eval(res.data);if(200==res_data.code){var list=res_data.body.list;list.forEach((function(e){var t=uni.getStorageSync(e.id+"_NOTE");t&&""!=t&&(e.nickName=t)})),_this.totalAllListCount=res_data.body.totalCount,_this.totalList=_this.totalList.concat(list)}_this.closeRefresh()}))},search_list:function(e){this.inputText=e},goUserDetail:function goUserDetail(_id){var _this=this;_this.$http.post("/sysConfig/json/getRoomCfg",{header:{"x-access-client":_this.$clientType}}).then((function(res){var res_data=eval(res.data);if(200==res_data.code){var flag=!1;0==res_data.body.lookGroupMemberDetailForRole?flag=!0:1==res_data.body.lookGroupMemberDetailForRole?_this.$store.state.user.id==_this.$store.state.cur_chat_entity.owner_UUID&&(flag=!0):2==res_data.body.lookGroupMemberDetailForRole&&(_this.$store.state.user.id==_this.$store.state.cur_chat_entity.owner_UUID||_this.$store.state.cur_chat_entity.memberMgr_ids.indexOf(_this.$store.state.user.id)>=0)&&(flag=!0),flag&&uni.navigateTo({url:"/pages/chat/user_detail?id="+_id+"&room_id="+_this.$store.state.cur_chat_entity.id})}}))}}};exports.default=_default}).call(this,__webpack_require__("5a52")["default"])},"8dbb":function(e,t,r){"use strict";var a;r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",[r("cu-custom",{attrs:{bgColor:"bg-blue",isBack:!0,nameToLeft:!0}},[r("template",{attrs:{slot:"backText"},slot:"backText"}),r("template",{attrs:{slot:"content"},slot:"content"},[e._v("群组成员("+e._s(e.totalAllListCount)+"人)")]),r("template",{attrs:{slot:"right"},slot:"right"})],2),r("v-uni-view",{staticClass:"cu-bar bg-white search"},[r("v-uni-view",{staticClass:"search-form round"},[r("v-uni-text",{staticClass:"cuIcon-search"}),r("v-uni-input",{attrs:{type:"text",placeholder:"搜索","confirm-type":"search"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.search_list(t.target.value)}}})],1),r("v-uni-button",{staticClass:"cu-btn bg-gradual-green shadow-blur round",staticStyle:{background:"#FFAA01"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchP(e.inputText)}}},[e._v("搜索")])],1),r("v-uni-view",{staticClass:"margin-top",staticStyle:{background:"#fff",width:"96%",margin:"auto auto","margin-top":"10px"}},[r("v-uni-view",{staticStyle:{width:"100%",height:"100%"}},[r("v-uni-scroll-view",{staticClass:"page",staticStyle:{height:"calc(100vh - 100upx - 100upx  - 50upx)"},attrs:{"scroll-y":!0,"refresher-enabled":!0,"refresher-triggered":e.refresherTriggered},on:{refresherrefresh:function(t){arguments[0]=t=e.$handleEvent(t),e.refresherrefresh.apply(void 0,arguments)},refresherrestore:function(t){arguments[0]=t=e.$handleEvent(t),e.refresherrestore.apply(void 0,arguments)},refresherabort:function(t){arguments[0]=t=e.$handleEvent(t),e.refresherabort.apply(void 0,arguments)},scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.scrollLower.apply(void 0,arguments)}}},e._l(e.totalList,(function(t,a){return r("v-uni-view",{staticStyle:{display:"inline-block",width:"20%","margin-bottom":"20upx","text-align":"center","margin-top":"10px"},on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.goUserDetail(t.id)}}},[r("v-uni-view",{staticClass:"cu-avatar round",style:"height:100upx;width:100upx;background-image:url("+e.$store.state.img_url+t.headpic+");"}),r("v-uni-view",{staticStyle:{margin:"auto auto",color:"#999","font-size":"24upx","text-align":"center","margin-top":"8upx",overflow:"hidden",height:"68upx",width:"100upx","word-wrap":"break-word","word-break":"normal"}},[e._v(e._s(t.nickName))])],1)})),1)],1)],1)],1)},s=[]},fcbd:function(e,t,r){"use strict";r.r(t);var a=r("67cd"),i=r.n(a);for(var s in a)"default"!==s&&function(e){r.d(t,e,(function(){return a[e]}))}(s);t["default"]=i.a}}]);