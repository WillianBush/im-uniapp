(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-shiming"],{4046:function(t,i,a){"use strict";var e=a("f63a"),n=a.n(e);n.a},"792c":function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,".margin-top[data-v-7c0e3916]{margin-top:%?50?%}",""]),t.exports=i},b56a:function(module,exports,__webpack_require__){"use strict";__webpack_require__("7a82"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("ac1f"),__webpack_require__("00b4"),__webpack_require__("498a");var _api=__webpack_require__("99bd"),_default={data:function(){return{realname:"",idcard:"",shiming:{},is_post:!1}},computed:{i18n:function(){return this.$t("index")}},onLoad:function onLoad(){var _this=this;(0,_api.getShimingInfo)().then((function(res){var res_data=eval(res.data);200==res_data.code&&res_data.body&&null!=res_data.body&&(_this.shiming=res_data.body,_this.realname=res_data.body.realname,_this.idcard=res_data.body.idcard)})).catch((function(t){uni.showToast({icon:"none",position:"bottom",title:t.msg?t.msg:"服务器异常!"})}))},methods:{checkIDCard:function(t){for(var i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],a=t+"",e=t[17],n=a.substring(0,17),o=n.split(""),s=o.length,r=0,c=0;c<s;c++)r+=o[c]*i[c];var u=r%11,l=["1","0","X","9","8","7","6","5","4","3","2"][u],d=/^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/.test(t);return!(e!==l||!d)},tijiao:function tijiao(){if(!this.is_post){var _this=this;""!=this.realname.trim()?""!=this.idcard.trim()?this.checkIDCard(this.idcard.trim())?(this.is_post=!0,(0,_api.updateShiming)({realname:_this.realname,idcard:_this.idcard}).then((function(res){_this.is_post=!1;var res_data=eval(res.data);200==res_data.code?(uni.showToast({icon:"success",position:"bottom",title:"提交成功,耐心等待审核!"}),_this.shiming=res_data.body):uni.showToast({icon:"none",position:"none",title:res_data.msg})})).catch((function(t){uni.showToast({icon:"none",position:"bottom",title:t.msg?t.msg:"服务器异常!"})}))):uni.showToast({icon:"none",position:"bottom",title:"身份证号填写有误"}):uni.showToast({icon:"none",position:"bottom",title:"身份证不能为空"}):uni.showToast({icon:"none",position:"bottom",title:"真实姓名不能为空"})}}}};exports.default=_default},c166:function(t,i,a){"use strict";a.r(i);var e=a("f5af"),n=a("cd4a");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return n[t]}))}(o);a("4046");var s=a("f0c5"),r=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,"7c0e3916",null,!1,e["a"],void 0);i["default"]=r.exports},cd4a:function(t,i,a){"use strict";a.r(i);var e=a("b56a"),n=a.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a},f5af:function(t,i,a){"use strict";a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticStyle:{"background-color":"#fff",height:"100vh"}},[a("cu-custom",{attrs:{bgColor:"bg-blue",isBack:!0,nameToLeft:!0}},[a("template",{attrs:{slot:"backText"},slot:"backText"}),a("template",{attrs:{slot:"content"},slot:"content"},[t._v("实名认证")])],2),0==t.shiming.status?a("v-uni-view",{staticClass:"margin-top",staticStyle:{"text-align":"center"}},[a("v-uni-view",{staticStyle:{"font-size":"28upx",color:"#999"}},[t._v("审核中，请耐心等待审核！")])],1):t._e(),1==t.shiming.status?a("v-uni-view",{staticClass:"margin-top",staticStyle:{"text-align":"center"}},[a("v-uni-view",{staticStyle:{"font-size":"28upx",color:"green","font-weight":"800"}},[t._v("审核通过")])],1):t._e(),2==t.shiming.status?a("v-uni-view",{staticClass:"margin-top",staticStyle:{"text-align":"center"}},[a("v-uni-view",{staticStyle:{"font-size":"28upx",color:"red"}},[t._v("审核失败，请编辑后再提交")]),a("v-uni-view",{staticStyle:{color:"#999","margin-top":"20upx"}},[t._v(t._s(t.shiming.statusReason))])],1):t._e(),a("v-uni-view",{staticClass:"cu-form-group",staticStyle:{width:"94%",margin:"auto auto","border-radius":"5px","margin-top":"40upx","border-bottom":"1px solid #eee"}},[a("v-uni-view",{staticClass:"title"},[t._v("真实姓名")]),1!=t.shiming.status?a("v-uni-input",{attrs:{placeholder:"输入真实姓名"},model:{value:t.realname,callback:function(i){t.realname=i},expression:"realname"}}):a("v-uni-input",{attrs:{disabled:""},model:{value:t.realname,callback:function(i){t.realname=i},expression:"realname"}})],1),a("v-uni-view",{staticClass:"cu-form-group",staticStyle:{width:"94%",margin:"auto auto","border-radius":"5px","border-bottom":"1px solid #eee","border-top":"0px"}},[a("v-uni-view",{staticClass:"title"},[t._v("身份证号")]),1!=t.shiming.status?a("v-uni-input",{attrs:{placeholder:"输入身份证"},model:{value:t.idcard,callback:function(i){t.idcard=i},expression:"idcard"}}):a("v-uni-input",{attrs:{disabled:""},model:{value:t.idcard,callback:function(i){t.idcard=i},expression:"idcard"}})],1),0!=t.shiming.status?a("v-uni-button",{staticClass:"cu-btn block bg-red margin-tb-sm lg",staticStyle:{width:"94%",margin:"auto auto","margin-top":"50upx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tijiao.apply(void 0,arguments)}}},[t._v("提交认证")]):t._e()],1)},n=[]},f63a:function(t,i,a){var e=a("792c");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("462b5a49",e,!0,{sourceMap:!1,shadowMode:!1})}}]);