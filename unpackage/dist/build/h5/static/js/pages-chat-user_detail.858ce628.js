(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-user_detail"],{"0420":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("cu-custom",{attrs:{bgColor:"bg-white",isBack:!0,nameToLeft:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"}),i("template",{attrs:{slot:"content"},slot:"content"}),t.isMyFri?i("template",{attrs:{slot:"right"},slot:"right"},[i("v-uni-text",{staticClass:"lg text-gray cuIcon-more",staticStyle:{"font-size":"48upx",color:"#555","margin-right":"14px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goMgr(t.userDetail.id)}}},[i("span")])],1):t._e()],2),i("v-uni-view",{staticStyle:{background:"#fff",display:"flex",height:"220upx"}},[i("v-uni-view",{staticStyle:{width:"150upx","padding-top":"30upx","padding-bottom":"30upx","margin-left":"10upx"}},[i("v-uni-view",{staticClass:"cu-avatar radius margin-left",style:"height:120upx;width:120upx;background-image:url("+t.imgUrl+t.userDetail.headpic+");"})],1),"-1"!=t.userDetail.id?i("v-uni-view",{staticStyle:{"margin-left":"20upx"}},[i("v-uni-view",{staticStyle:{margin:"auto auto","font-size":"34upx","margin-top":"20upx",height:"34upx","font-weight":"800","margin-left":"20upx"}},[t._v(t._s(t.userDetail.nickName)),t.userDetail.nickName_real&&""!=t.userDetail.nickName_real?i("v-uni-text",{staticStyle:{"font-size":"20upx","font-weight":"400",color:"#999"}},[t._v("("+t._s(t.userDetail.nickName_real)+")")]):t._e()],1),i("v-uni-view",{staticStyle:{margin:"auto auto","font-size":"28upx","margin-top":"26upx",height:"34upx","margin-left":"20upx",color:"#777"}},[t._v("ID号："+t._s(t.userDetail.memberId))])],1):i("v-uni-view",{staticStyle:{"margin-left":"20upx","line-height":"190upx"}},[i("v-uni-view",{staticStyle:{margin:"auto auto","font-size":"34upx",height:"34upx","font-weight":"800","margin-left":"20upx"}},[t._v(t._s(t.userDetail.nickName))])],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showGroupStopSpeak,expression:"showGroupStopSpeak"}],staticClass:"cu-item cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v("禁止在此群发言")]),i("v-uni-switch",{class:t.groupStopSpeak?"checked":"",attrs:{checked:!!t.groupStopSpeak},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.GroupStopSpeak.apply(void 0,arguments)}}})],1),t.userDetail.id!=t.user.id?[t.isMyFri?i("v-uni-view",{staticClass:"cu-list menu",staticStyle:{clear:"both"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goChat(t.userDetail.id)}}},[i("v-uni-view",{staticClass:"margin-top",staticStyle:{"text-align":"center",background:"#fff",height:"100upx","line-height":"100upx"}},[i("v-uni-text",{staticClass:"iconfont icon-icon--",staticStyle:{color:"#485D83","font-size":"50upx",position:"relative",top:"6upx"}}),i("v-uni-text",{staticStyle:{color:"#485D83","font-size":"30upx","font-weight":"800","margin-left":"10upx"}},[t._v("发消息")])],1)],1):i("v-uni-view",{staticClass:"cu-list menu",staticStyle:{clear:"both"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addFriend(t.userDetail.id)}}},[i("v-uni-view",{staticClass:"margin-top",staticStyle:{"text-align":"center",background:"#fff",height:"100upx","line-height":"100upx"}},[i("v-uni-text",{staticStyle:{color:"#485D83","font-size":"30upx","font-weight":"800","margin-left":"10upx"}},[t._v("添加好友")])],1)],1)]:t._e()],2)},r=[]},"5d84":function(module,exports,__webpack_require__){"use strict";__webpack_require__("7a82");var _interopRequireDefault=__webpack_require__("4ea4").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("c975");var _objectSpread2=_interopRequireDefault(__webpack_require__("5530")),_api=__webpack_require__("99bd"),_vuex=__webpack_require__("26cb"),_default={data:function(){return{id:"",userDetail:{},isMyFri:!1,room_id:"",groupStopSpeak:!1}},computed:(0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)({i18n:function(){return this.$t("index")}},(0,_vuex.mapState)("app",["imgUrl","reqUrl"])),(0,_vuex.mapState)("user",["user"])),(0,_vuex.mapState)("chat",["curChatEntity"])),{},{showGroupStopSpeak:function(){return!(this.curChatEntity&&this.curChatEntity.owner_UUID&&(this.curChatEntity.owner_UUID==this.id||this.curChatEntity.memberMgr_ids.indexOf(this.id)>=0))&&!!(this.room_id&&""!=this.room_id&&this.curChatEntity&&this.curChatEntity.owner_UUID&&(this.curChatEntity.owner_UUID==this.user.id||this.curChatEntity.memberMgr_ids.indexOf(this.user.id)>=0))}}),onLoad:function onLoad(e){var _this=this;this.id=e.id,e.room_id&&void 0!=e.room_id&&(this.room_id=e.room_id,(0,_api.isStopSpeak4User)({roomid:_this.room_id,uid:_this.id}).then((function(res){var res_data=eval(res.data);200==res_data.code?"0"==res_data.msg?_this.groupStopSpeak=!1:_this.groupStopSpeak=!0:uni.showToast({title:res_data.msg,duration:2e3})}))),(0,_api.loadTalkUserById)({id:this.id}).then((function(res){var res_data=eval(res.data);if(200==res_data.code){_this.user=res_data.body;var s=uni.getStorageSync(_this.user.id+"_NOTE");s&&""!=s&&(_this.user.nickName_real=_this.user.nickName,_this.user.nickName=s)}})),(0,_api.isMyFri)({uid:this.id}).then((function(res){var res_data=eval(res.data);200==res_data.code&&"1"==res_data.msg&&(_this.isMyFri=!0)}))},methods:{GroupStopSpeak:function GroupStopSpeak(e){var _this=this;this.groupStopSpeak=e.detail.value,(0,_api.uStopSpeakSingle)({roomid:_this.room_id,uid:_this.id}).then((function(res){var res_data=eval(res.data);200==res_data.code||uni.showToast({title:res_data.msg,duration:2e3})})).catch((function(t){uni.showToast({icon:"none",position:"bottom",title:t.msg?t.msg:"服务器异常!"})}))},goMgr:function(t){t?uni.navigateTo({url:"/pages/chat/user/mgr?id="+t}):uni.showToast({icon:"none",title:"操作太快啦，稍作休息。"})},addFriend:function(t){uni.navigateTo({url:"/pages/addressBook/new_friend/add_friend_verify?uuid="+t})},goChat:function(t){uni.navigateTo({url:"/pages/chat/user/index?toid="+t})}}};exports.default=_default},"6c23":function(t,e,i){"use strict";i.r(e);var a=i("0420"),r=i("8a06");for(var n in r)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(n);var o=i("f0c5"),s=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"65f264e7",null,!1,a["a"],void 0);e["default"]=s.exports},"8a06":function(t,e,i){"use strict";i.r(e);var a=i("5d84"),r=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=r.a}}]);