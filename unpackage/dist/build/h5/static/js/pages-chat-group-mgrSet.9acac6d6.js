(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-group-mgrSet"],{"6c54":function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.curChatEntity?e("v-uni-view",[e("cu-custom",{attrs:{bgColor:"bg-blue",isBack:!0,nameToLeft:!0}},[e("template",{attrs:{slot:"backText"},slot:"backText"}),e("template",{attrs:{slot:"content"},slot:"content"},[t._v("群设置")]),e("template",{attrs:{slot:"right"},slot:"right"})],2),e("v-uni-view",{staticClass:"cu-list menu",staticStyle:{clear:"both",width:"96%",margin:"auto auto","margin-top":"10px!important"}},[e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("群禁言")]),e("v-uni-switch",{class:t.switchC?"checked":"",attrs:{checked:!!t.switchC},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.SwitchC.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"cu-form-group margin-top"},[e("v-uni-view",{staticClass:"title"},[t._v("允许群成员邀请好友入群")]),e("v-uni-switch",{class:t.switchA?"checked":"",attrs:{checked:!!t.switchA},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.SwitchA.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"cu-item cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("群聊邀请进群审核验证")]),e("v-uni-switch",{class:t.switchB?"checked":"",attrs:{checked:!!t.switchB},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.SwitchB.apply(void 0,arguments)}}})],1),t.user.id==t.curChatEntity.owner_UUID?e("v-uni-view",{staticClass:"cu-item cu-form-group  arrow",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goAddRoomMgr()}}},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"text-grey",staticStyle:{color:"#333"}},[t._v("添加群管理")])],1)],1):t._e(),t.user.id==t.curChatEntity.owner_UUID?e("v-uni-view",{staticClass:"cu-item cu-form-group arrow",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goRoomMgr()}}},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"text-grey",staticStyle:{color:"#333"}},[t._v("群管理列表")])],1)],1):t._e(),t.user.id==t.curChatEntity.owner_UUID?e("v-uni-view",{staticClass:"cu-item margin-top",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.dissolveGroup()}}},[e("v-uni-view",{staticClass:"content",staticStyle:{"text-align":"center"}},[e("v-uni-text",{staticClass:"text-grey",staticStyle:{color:"#FF2442"}},[t._v("解散群组")])],1)],1):t._e(),t.user.id==t.curChatEntity.owner_UUID?e("v-uni-view",{staticClass:"cu-item margin-top",staticStyle:{"margin-bottom":"80upx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal()}}},[e("v-uni-view",{staticClass:"content",staticStyle:{"text-align":"center"}},[e("v-uni-text",{staticClass:"text-grey",staticStyle:{color:"#FF2442"}},[t._v("转让群组")])],1)],1):t._e()],1),e("v-uni-view",{staticClass:"cu-modal ",class:t.showTransferGroupModal?"show":""},[e("v-uni-view",{staticClass:"cu-dialog"},[e("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[e("v-uni-view",{staticClass:"content"},[t._v("转让群组")]),e("v-uni-view",{staticClass:"action",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),e("v-uni-view",{staticClass:"padding-xl"},[e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-input",{attrs:{placeholder:"请填写转入用户ID",name:"input"},model:{value:t.to_member_id,callback:function(i){t.to_member_id=i},expression:"to_member_id"}})],1)],1),e("v-uni-view",{staticClass:"cu-bar bg-white"},[e("v-uni-view",{staticClass:"action margin-0 flex-sub text-green solid-left",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[t._v("取消")]),e("v-uni-view",{staticClass:"action margin-0 flex-sub  solid-left",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.transferGroup.apply(void 0,arguments)}}},[t._v("转让")])],1)],1)],1)],1):t._e()},o=[]},"6df8":function(t,i,e){"use strict";e.r(i);var n=e("e6f2"),o=e.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a},"959c":function(t,i,e){"use strict";e.r(i);var n=e("6c54"),o=e("6df8");for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(a);var c=e("f0c5"),s=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"bd480d62",null,!1,n["a"],void 0);i["default"]=s.exports},e6f2:function(t,i,e){"use strict";e("7a82");var n=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("498a");var o=n(e("5530")),a=(e("99bd"),e("26cb")),c={data:function(){return{switchA:!1,switchB:!1,switchC:!1,id:"",showTransferGroupModal:!1,to_member_id:""}},computed:(0,o.default)((0,o.default)((0,o.default)({i18n:function(){return this.$t("index")}},(0,a.mapState)("chat",["curChatEntity","chatMessageMap","arList"])),(0,a.mapState)("user",["user"])),(0,a.mapState)("app",["imgUrl"])),onLoad:function(t){this.id=t.id,this.switchC=1==this.curChatEntity.stopSpeak,this.switchA=1==this.curChatEntity.yaoqingAble,this.switchB=1==this.curChatEntity.yaoqingAuditAble},methods:(0,o.default)((0,o.default)((0,o.default)((0,o.default)({},(0,a.mapActions)("chat",["getRoomConfigAction","transferGroupAction","dissolveGroupAction","logoutGroupAction","uStopSpeakAction","uCnfSetAction"])),(0,a.mapMutations)("chat",["setCurChatMsgList","setArListShow"])),(0,a.mapActions)("socket",["WEBSOCKET_SEND"])),{},{goAddRoomMgr:function(){uni.navigateTo({url:"/pages/chat/group/add_room_mgr"})},goRoomMgr:function(){uni.navigateTo({url:"/pages/chat/group/room_mgr"})},yaoqi:function(){uni.navigateTo({url:"/pages/chat/group/yaoqi"})},hideModal:function(){this.showTransferGroupModal=!1},showModal:function(){this.showTransferGroupModal=!0},tousu:function(){},goQrcode:function(){uni.navigateTo({url:"./qrCode"})},transferGroup:function(){uni.getStorageSync("USER");""!=this.to_member_id.trim()?this.transferGroupAction({roomid:this.curChatEntity.id,toUid:this.to_member_id.trim()}):uni.showToast({icon:"none",position:"bottom",title:"请填写用户ID"})},dissolveGroup:function(){var t=this;uni.getStorageSync("USER");uni.showModal({title:"请确认",content:"是否解散此群组?",success:function(i){i.confirm&&this.dissolveGroupAction({roomid:t.curChatEntity.id})}})},outGroup:function(){var t=this;uni.getStorageSync("USER");uni.showModal({title:"请确认",content:"是否退出此群组?",success:function(i){i.confirm&&t.logoutGroupAction({roomid:t.curChatEntity.id})}})},edit_pic:function(){uni.navigateTo({url:"/pages/chat/group/upd_pic"})},editGroupNotice:function(){uni.navigateTo({url:"/pages/chat/group/upd_notice"})},editGroupName:function(){uni.navigateTo({url:"/pages/chat/group/upd_name"})},goAddMember:function(){uni.navigateTo({url:"/pages/chat/group/add_member"})},goRemoveMember:function(){uni.navigateTo({url:"/pages/chat/group/member_list_remove"})},lookNotShimingMemberList:function(){uni.navigateTo({url:"/pages/chat/group/not_shiming_member_list"})},lookMemberList:function(){uni.navigateTo({url:"/pages/chat/group/member_list"})},goMsgRecord:function(){uni.navigateTo({url:"/pages/chat/group/message_record"})},clearChatMsg:function(){var t=this,i=uni.getStorageSync("USER");uni.showModal({title:"请确认",content:"是否清空聊天记录?",success:function(e){e.confirm&&(t.chatMessageMap.delete(i.id+"#"+t.curChatEntity.id),uni.removeStorageSync(i.id+"#"+t.curChatEntity.id+"_CHAT_MESSAGE"),t.setCurChatMsgList([]),uni.removeStorageSync(i.id+"#"+t.curChatEntity.id+"_CHAT_MESSAGE_LASTCONTENT"),uni.removeStorageSync(i.id+"#"+t.curChatEntity.id+"_CHAT_MESSAGE_UNREAD"),uni.showToast({title:"清除成功",duration:2e3}))}})},SwitchC:function(t){this.switchC=t.detail.value;var i=0;t.detail.value&&(i=1),this.uStopSpeakAction({roomid:this.curChatEntity.id,stopSpeak:i})},SwitchA:function(t){this.switchA=t.detail.value;var i=0;this.switchA&&(i=1),this.uCnfSetAction({roomid:this.curChatEntity.id,yaoqingAble:i})},SwitchB:function(t){this.switchB=t.detail.value;var i=0;this.switchB&&(i=1),this.uCnfSetAction({roomid:this.curChatEntity.id,yaoqingAuditAble:i})}})};i.default=c}}]);