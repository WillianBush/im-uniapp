(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-group-member_list"],{"119b":function(e,t,r){"use strict";r.r(t);var a=r("4c7e"),i=r.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(s);t["default"]=i.a},"488b":function(e,t,r){"use strict";r.r(t);var a=r("507a"),i=r("119b");for(var s in i)["default"].indexOf(s)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(s);var o=r("f0c5"),n=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"155159b9",null,!1,a["a"],void 0);t["default"]=n.exports},"4c7e":function(module,exports,__webpack_require__){"use strict";(function(console){__webpack_require__("7a82");var _interopRequireDefault=__webpack_require__("4ea4").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("d3b7"),__webpack_require__("159b"),__webpack_require__("99af"),__webpack_require__("c975");var _objectSpread2=_interopRequireDefault(__webpack_require__("5530")),_vuex=__webpack_require__("26cb"),_api=__webpack_require__("99bd"),_default={data:function(){return{refresherTriggered:!1,_refresherTriggered:!1,id:"",totalAllListCount:0,totalList:[],numPag:1,allPageNum:1e4,pageSize:50,status:"more",timer:null,inputText:""}},computed:(0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)({i18n:function(){return this.$t("index")}},(0,_vuex.mapState)("chat",["curChatEntity"])),(0,_vuex.mapState)("user",["user"])),(0,_vuex.mapState)("app",["imgUrl"])),onLoad:function(){this.loadStoreData(this.pageSize,this.numPag)},methods:{searchP:function searchP(a){if("undefined"!==typeof a&&null!=a&&""!==a){var _this=this;(0,_api.getMember)({roomid:_this.curChatEntity.id,nickname:a}).then((function(res){var res_data=eval(res.data);if(200==res_data.code){var item=res_data.body;item&&(_this.totalList=[],_this.totalList=item,console.log("搜索进来啦2",_this.totalList))}}))}else this.refresherrefresh()},refresherrefresh:function(){console.log("自定义下拉刷新被触发");this._refresherTriggered||(this._refresherTriggered=!0,this.refresherTriggered||(this.refresherTriggered=!0),this.totalList=[],this.numPag=1,this.loadStoreData(this.pageSize,this.numPag))},refresherrestore:function(){console.log("自定义下拉刷新被复位");this.refresherTriggered=!1,this._refresherTriggered=!1},refresherabort:function(){console.log("自定义下拉刷新被中止    ");this.refresherTriggered=!1,this._refresherTriggered=!1},scrollLower:function(){var e=this;console.log("我滚动到底部了"),this.numPag>=this.allNum?this.status="noMore":(this.status="loading",this.numPag=this.numPag+1,this.timer=setTimeout((function(){console.log("我滚动到底部了2"+e.numPag),e.loadStoreData(e.pageSize,e.numPag)}),1e3))},closeRefresh:function(){this.refresherTriggered=!1,this._refresherTriggered=!1},loadStoreData:function loadStoreData(pSize,pNumber){var _this=this;(0,_api.getMemberListPage)({roomid:_this.curChatEntity.id,pageSize:pSize,pageNumber:pNumber}).then((function(res){var res_data=eval(res.data);if(200==res_data.code){var list=res_data.body.records;list.forEach((function(e){var t=uni.getStorageSync(e.id+"_NOTE");t&&""!=t&&(e.nickName=t)})),_this.totalAllListCount=res_data.body.totalCount,_this.totalList=_this.totalList.concat(list)}_this.closeRefresh()}))},search_list:function(e){this.inputText=e},goUserDetail:function goUserDetail(_id){var _this=this;(0,_api.getRoomCfg)().then((function(res){var res_data=eval(res.data);if(200==res_data.code){var flag=!1;0==res_data.body.lookGroupMemberDetailForRole?flag=!0:1==res_data.body.lookGroupMemberDetailForRole?_this.user.id==_this.curChatEntity.owner_UUID&&(flag=!0):2==res_data.body.lookGroupMemberDetailForRole&&(_this.user.id==_this.curChatEntity.owner_UUID||_this.curChatEntity.memberMgr_ids.indexOf(_this.user.id)>=0)&&(flag=!0),flag&&uni.navigateTo({url:"/pages/chat/user_detail?id="+_id+"&room_id="+_this.curChatEntity.id})}}))}}};exports.default=_default}).call(this,__webpack_require__("5a52")["default"])},"507a":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",[r("cu-custom",{attrs:{bgColor:"bg-blue",isBack:!0,nameToLeft:!0}},[r("template",{attrs:{slot:"backText"},slot:"backText"}),r("template",{attrs:{slot:"content"},slot:"content"},[e._v("群组成员("+e._s(e.totalAllListCount)+"人)")]),r("template",{attrs:{slot:"right"},slot:"right"})],2),r("v-uni-view",{staticClass:"cu-bar bg-white search"},[r("v-uni-view",{staticClass:"search-form round"},[r("v-uni-text",{staticClass:"cuIcon-search"}),r("v-uni-input",{attrs:{type:"text",placeholder:"搜索","confirm-type":"search"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.search_list(t.target.value)}}})],1),r("v-uni-button",{staticClass:"cu-btn bg-gradual-green shadow-blur round",staticStyle:{background:"#FFAA01"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchP(e.inputText)}}},[e._v("搜索")])],1),r("v-uni-view",{staticClass:"margin-top",staticStyle:{background:"#fff",width:"96%",margin:"auto auto","margin-top":"10px"}},[r("v-uni-view",{staticStyle:{width:"100%",height:"100%"}},[r("v-uni-scroll-view",{staticClass:"page",staticStyle:{height:"calc(100vh - 100upx - 100upx  - 50upx)"},attrs:{"scroll-y":!0,"refresher-enabled":!0,"refresher-triggered":e.refresherTriggered},on:{refresherrefresh:function(t){arguments[0]=t=e.$handleEvent(t),e.refresherrefresh.apply(void 0,arguments)},refresherrestore:function(t){arguments[0]=t=e.$handleEvent(t),e.refresherrestore.apply(void 0,arguments)},refresherabort:function(t){arguments[0]=t=e.$handleEvent(t),e.refresherabort.apply(void 0,arguments)},scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.scrollLower.apply(void 0,arguments)}}},e._l(e.totalList,(function(t,a){return r("v-uni-view",{staticStyle:{display:"inline-block",width:"20%","margin-bottom":"20upx","text-align":"center","margin-top":"10px"},on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.goUserDetail(t.id)}}},[r("v-uni-view",{staticClass:"cu-avatar round",style:"height:100upx;width:100upx;background-image:url("+e.imgUrl+t.headpic+");"}),r("v-uni-view",{staticStyle:{margin:"auto auto",color:"#999","font-size":"24upx","text-align":"center","margin-top":"8upx",overflow:"hidden",height:"68upx",width:"100upx","word-wrap":"break-word","word-break":"normal"}},[e._v(e._s(t.nickName))])],1)})),1)],1)],1)],1)},i=[]}}]);